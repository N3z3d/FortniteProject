JIRA BACKLOG - FORTNITE PRONOS
Last Updated: 2026-01-19 09:05
Source of Truth: Jira-tache.txt

RULES
- Single ticket file: Jira-tache.txt
- Remove DONE tickets from this file
- Assign before starting work (ASSIGNE + STATUT = IN_PROGRESS)
- READY requires: Objectif, Contexte, Description, Criteres d'acceptation
- When taken: ASSIGNE, ASSIGNE_LE, DERNIERE_MAJ, STATUT are mandatory

EPIC
JIRA-ARCH-000 - Architecture Review and Clean Code Implementation
Type: Epic
Priority: P0
Status: IN PROGRESS
Assignee: Team
Estimate: Multi-sprint
Context:
- Mixed Layered/Hexagonal boundaries with unclear responsibilities.
- Goal: enforce SOLID, reduce duplication, and stabilize boundaries.
Scope:
- Drive architecture decisions, refactors, and test strategy.
- Enforce package dependency rules and separation of concerns.
Acceptance:
- Architecture target documented and enforced by tests.
- Core services and controllers respect SRP and DIP.
Dependencies: none

P0 - CRITICAL
JIRA-ARCH-002 - Separate responsibilities (Controllers/Entities/Services)
Type: Task
Priority: P0
Status: IN PROGRESS
Assignee: @Codex
Estimate: 8h
Objectif: Deplacer la logique metier hors des controllers/entities pour respecter SRP.
Contexte:
- Controllers still contain orchestration and business logic.
- GameController (293 lines - DONE) and DraftController (427 lines) still contain logic metier.
Description:
1) Inventory business logic in controllers and entities.
2) Move business logic to services/use cases.
3) Keep controllers as routing + validation only.
4) Extract domain rules from JPA entities.
Criteres d'acceptation:
- Controllers contain no orchestration logic.
- Business rules live in services/use cases.
- Unit tests run without Spring context.
Dependencies:
- JIRA-ARCH-000
ASSIGNE: @Codex
ASSIGNE_LE: 2026-01-19 06:52
DERNIERE_MAJ: 2026-01-19 07:48
STATUT: IN_PROGRESS
Notes:
- Moved next-participant calculation into DraftService (controller cleanup).
- Added unit tests for next-participant response logic.
- Moved draft order + is-turn logic into DraftService; added DraftOrderEntryResponse DTO and tests.
- Moved move-to-next orchestration into DraftService; added DraftAdvanceResponse DTO and tests.
- Moved available-players/complete/finish/handle-timeouts logic into DraftService; added DTOs and tests.

P1 - HIGH
JIRA-ARCH-005 - Isolate domain
Type: Task
Priority: P1
Status: IN PROGRESS
Assignee: @Claude
Estimate: 12h
Objectif: Separer le domaine metier de la couche persistence pour une architecture hexagonale propre.
Contexte:
- La logique metier est couplee aux entites JPA (@Entity, relations).
- Les regles metier sont dispersees dans les entites au lieu d'etre centralisees.
- Le domaine devrait etre independant de Spring/JPA pour faciliter les tests.
Description:
1) Identifier les entites avec logique metier (Game, Team, Player, Trade, etc.).
2) Creer des objets domaine purs (sans annotations JPA) dans un package domain/.
3) Ajouter des mappers Entity <-> Domain (pattern Assembler).
4) Deplacer les regles metier des entites vers les objets domaine/services.
5) Adapter les services pour utiliser les objets domaine.
Criteres d'acceptation:
- Package domain/ contient les objets metier purs (pas de @Entity).
- Mappers bidirectionnels Entity <-> Domain existent.
- Logique metier (validations, calculs) dans le domaine, pas dans les entites.
- Tests unitaires du domaine sans Spring context.
Dependencies:
- JIRA-ARCH-000
ASSIGNE: @Claude
ASSIGNE_LE: 2026-01-19 08:00
DERNIERE_MAJ: 2026-01-19 09:05
STATUT: IN_PROGRESS
Notes:
- Created pure domain package (com.fortnite.pronos.domain) with 7 domain objects
- GameLifecycle: state transition rules (CREATING->DRAFTING->ACTIVE->FINISHED)
- ParticipantRules: participant validation and capacity rules
- InvitationCodeGenerator: code generation with format validation
- DraftProgression: round/pick calculation, snake draft support
- DraftStatus: draft state machine transitions
- TeamRoster: roster management, position validation, player add/remove rules
- TradeRules: trade validation, status transitions, deadline enforcement
- Added DomainIsolationTest (ArchUnit): enforces no JPA/Spring/Hibernate/Lombok in domain
- 117 unit tests for domain logic (no Spring context required)
- DONE: Pure domain objects for all major entities
- Remaining: mappers Entity <-> Domain, service layer adaptation

P2 - MEDIUM
JIRA-SUPABASE-001 - Configure Supabase
Type: Task
Priority: P2
Status: TODO
Assignee: AVAILABLE
Estimate: 2h
Context:
- Supabase variables not configured; remote flows unvalidated.
Steps:
1) Set SUPABASE_URL, SUPABASE_ANON_KEY, SUPABASE_SCHEMA, SUPABASE_SEED_GAME_ID.
2) Run seed/health check.
3) Validate dependent endpoints.
Acceptance:
- Supabase connectivity verified.
- Seed completed and endpoints return data.
Dependencies: none

P3 - LOW

P4 - BACKLOG
