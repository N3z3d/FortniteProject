<div class="profile-container">
  <div class="profile-content">
    <mat-card class="profile-card">
      <mat-card-header>
        <div class="profile-header">
          <div class="avatar-section">
            <div class="avatar">
              <mat-icon>account_circle</mat-icon>
            </div>
            <div class="user-info">
              <h1>{{ currentUser?.username }}</h1>
              <div class="role-badge" [attr.data-role]="getRoleBadgeClass()">
                <mat-icon>{{ getRoleIcon() }}</mat-icon>
                <span>{{ currentUser?.role || 'Utilisateur' }}</span>
              </div>
              <p class="user-email">{{ currentUser?.email || t.translate('profile.noEmailProvided') }}</p>
            </div>
          </div>
        </div>
      </mat-card-header>

      <mat-card-content>
        <mat-divider></mat-divider>

        <div class="profile-section">
          <h3>
            <mat-icon>info</mat-icon>
            {{ t.translate('profile.profileInformation') }}
          </h3>
          <mat-list>
            <mat-list-item>
              <mat-icon matListItemIcon>person</mat-icon>
              <div matListItemTitle>{{ t.translate('profile.username') }}</div>
              <div matListItemLine>{{ currentUser?.username }}</div>
            </mat-list-item>
            <mat-list-item>
              <mat-icon matListItemIcon>{{ getRoleIcon() }}</mat-icon>
              <div matListItemTitle>{{ t.translate('profile.role') }}</div>
              <div matListItemLine class="role-line">
                <span class="role-badge-inline" [attr.data-role]="getRoleBadgeClass()">
                  {{ currentUser?.role || 'Utilisateur' }}
                </span>
              </div>
            </mat-list-item>
            <mat-list-item>
              <mat-icon matListItemIcon>calendar_today</mat-icon>
              <div matListItemTitle>{{ t.translate('profile.memberSince') }}</div>
              <div matListItemLine>{{ t.translate('profile.recentlyJoined') }}</div>
            </mat-list-item>
          </mat-list>
        </div>

        <mat-divider></mat-divider>

        <div class="profile-section">
          <h3>
            <mat-icon>settings</mat-icon>
            {{ t.translate('profile.accountActions') }}
          </h3>
          <div class="action-buttons">
            <button mat-stroked-button (click)="editProfile()">
              <mat-icon>edit</mat-icon>
              {{ t.translate('profile.editProfile') }}
            </button>
            <button mat-stroked-button (click)="changePassword()">
              <mat-icon>lock</mat-icon>
              {{ t.translate('profile.changePassword') }}
            </button>
            <button mat-stroked-button (click)="viewStatistics()">
              <mat-icon>bar_chart</mat-icon>
              {{ t.translate('profile.viewStatistics') }}
            </button>
            <button mat-stroked-button color="warn" (click)="logout()">
              <mat-icon>logout</mat-icon>
              {{ t.translate('auth.logout') }}
            </button>
          </div>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
</div>