<div class="join-game-container">
  <div class="join-game-card-wrapper">
    <mat-card class="join-game-card">
      <mat-card-header>
        <div class="header-content">
          <mat-icon class="header-icon">vpn_key</mat-icon>
          <div>
            <mat-card-title>{{ t.t('games.join.title') }}</mat-card-title>
            <mat-card-subtitle>{{ t.t('games.join.subtitle') }}</mat-card-subtitle>
          </div>
        </div>
      </mat-card-header>

      <mat-card-content>
        <div class="join-instructions">
          <mat-icon class="info-icon">info</mat-icon>
          <p>{{ t.t('games.join.instructions') }}</p>
        </div>

        <form (ngSubmit)="joinWithCode()" class="join-form">
          <mat-form-field appearance="outline" class="code-input">
            <mat-label>{{ t.t('games.join.codeLabel') }}</mat-label>
            <input
              matInput
              [(ngModel)]="invitationCode"
              name="invitationCode"
              [placeholder]="t.t('games.join.codePlaceholder')"
              [disabled]="joiningGame"
              maxlength="20"
              required
              autocomplete="off"
            />
            <mat-icon matPrefix>confirmation_number</mat-icon>
            <mat-hint>{{ t.t('games.join.codeHint') }}</mat-hint>
          </mat-form-field>

          <div class="action-buttons">
            <button
              mat-raised-button
              color="primary"
              type="submit"
              [disabled]="!invitationCode.trim() || joiningGame"
              class="join-button"
            >
              <mat-icon *ngIf="!joiningGame">login</mat-icon>
              <mat-spinner *ngIf="joiningGame" diameter="20"></mat-spinner>
              {{ joiningGame ? t.t('games.join.joining') : t.t('games.join.joinButton') }}
            </button>

            <button
              mat-stroked-button
              type="button"
              (click)="cancel()"
              [disabled]="joiningGame"
              class="cancel-button"
            >
              <mat-icon>cancel</mat-icon>
              {{ t.t('common.cancel') }}
            </button>
          </div>
        </form>

        <div class="help-section">
          <mat-icon class="help-icon">help_outline</mat-icon>
          <div class="help-text">
            <p class="help-title">{{ t.t('games.join.noCodeTitle') }}</p>
            <p class="help-description">{{ t.t('games.join.noCodeDesc') }}</p>
            <button
              mat-button
              color="accent"
              (click)="router.navigate(['/games/create'])"
              [disabled]="joiningGame"
            >
              <mat-icon>add_circle</mat-icon>
              {{ t.t('games.join.createNew') }}
            </button>
          </div>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
</div>
