<div class="ultra-nav-layout">
  <!-- Skip Navigation Links -->
  <div class="skip-links">
    <a href="#main-content" class="skip-link sr-only-focusable">Skip to main content</a>
    <a href="#main-navigation" class="skip-link sr-only-focusable">Skip to navigation</a>
  </div>

  <!-- Ultra-Simple Header -->
  <header class="ultra-header">
    <div class="header-content">
      <!-- Brand + Game Context Combined -->
      <div class="brand-game-combo" 
           (click)="goToHome()" 
           (keydown.enter)="goToHome()" 
           (keydown.space)="goToHome()"
           role="button" 
           tabindex="0"
           aria-label="Go to home page">
        <div class="brand-main">
          <h1 class="app-title">Fortnite Fantasy</h1>
          <span class="current-context" *ngIf="selectedGame">{{ selectedGame.name }}</span>
        </div>
      </div>

      <!-- Consolidated Navigation (3 Core Sections) -->
      <nav class="main-nav" 
           id="main-navigation" 
           role="navigation" 
           aria-label="Navigation principale">
        <div class="nav-pills consolidated-nav">
          <!-- My Games (consolidates games + draft + creation) -->
          <button 
            mat-fab mini
            [color]="isRouteActive(['/games', '/draft']) ? 'primary' : 'accent'"
            [routerLink]="['/games']"
            matTooltip="My Games"
            class="nav-pill games-pill accessible-focus"
            [attr.aria-label]="'Navigate to my games and drafts section'"
            [attr.aria-current]="isRouteActive(['/games', '/draft']) ? 'page' : null">
            <svg class="nav-icon" viewBox="0 0 24 24" fill="none">
              <path d="M21,6H3A1,1 0 0,0 2,7V17A1,1 0 0,0 3,18H21A1,1 0 0,0 22,17V7A1,1 0 0,0 21,6M20,16H4V8H20V16M6,15H8V9H6V15M16,15H18V9H16V15M10,15H14V13H10V15M10,11H14V9H10V11Z" fill="currentColor"/>
            </svg>
            <span class="nav-label">My Games</span>
          </button>

          <!-- My Team (combines team management + trades + roster) -->
          <button 
            mat-fab mini
            [color]="isRouteActive(['/teams', '/trades']) ? 'primary' : 'accent'"
            [routerLink]="['/teams']"
            matTooltip="My Team"
            class="nav-pill team-pill accessible-focus"
            [attr.aria-label]="'Navigate to team management and trades section'"
            [attr.aria-current]="isRouteActive(['/teams', '/trades']) ? 'page' : null">
            <svg class="nav-icon" viewBox="0 0 24 24" fill="none">
              <path d="M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zm4 18v-6h2.5l-2.54-7.63A1.5 1.5 0 0 0 18.5 7h-3c-.83 0-1.5.67-1.5 1.5v9c0 .83.67 1.5 1.5 1.5H18v4h2z" fill="currentColor"/>
              <path d="M12.5 11.5c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5S11 9.17 11 10s.67 1.5 1.5 1.5zm-2 .5h4c.83 0 1.5.67 1.5 1.5V15h-7v-1.5c0-.83.67-1.5 1.5-1.5z" fill="currentColor"/>
              <path d="M6 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zM2 22v-6h2.5L2 8.37A1.5 1.5 0 0 1 3.5 7h3c.83 0 1.5.67 1.5 1.5v9c0 .83-.67 1.5-1.5 1.5H4v4H2z" fill="currentColor"/>
            </svg>
            <span class="nav-label">My Team</span>
          </button>
          
          <!-- Rankings (focus leaderboards + statistics) -->
          <button 
            mat-fab mini
            [color]="isRouteActive(['/leaderboard']) ? 'primary' : 'accent'"
            [routerLink]="['/leaderboard']"
            matTooltip="Rankings"
            class="nav-pill rankings-pill accessible-focus"
            [attr.aria-label]="'Navigate to leaderboard and statistics section'"
            [attr.aria-current]="isRouteActive(['/leaderboard']) ? 'page' : null">
            <svg class="nav-icon" viewBox="0 0 24 24" fill="none">
              <path d="M7 14l5-5 5 5z" fill="currentColor"/>
              <path d="M8 12h8v2H8z" fill="currentColor"/>
              <path d="M9 16h6v1H9z" fill="currentColor"/>
              <path d="M6 8h12l-1 2H7L6 8z" fill="currentColor"/>
              <circle cx="12" cy="5" r="1.5" fill="currentColor"/>
            </svg>
            <span class="nav-label">Rankings</span>
          </button>
        </div>
      </nav>

      <!-- Ultra-Simple Actions -->
      <div class="ultra-actions">
        <!-- Quick Create -->
        <button 
          mat-fab mini
          color="warn"
          (click)="quickCreateGame()" 
          matTooltip="Create new game"
          class="create-fab accessible-focus"
          aria-label="Create a new game">
          <mat-icon>add</mat-icon>
        </button>
        
        <!-- User Avatar -->
        <div class="user-avatar" 
             [matMenuTriggerFor]="userMenu"
             role="button"
             tabindex="0"
             [attr.aria-label]="'User menu for ' + (currentUser?.username || 'current user')"
             [attr.aria-expanded]="false"
             (keydown.enter)="$event.preventDefault(); userMenuTrigger.openMenu()"
             (keydown.space)="$event.preventDefault(); userMenuTrigger.openMenu()"
             #userMenuTrigger="matMenuTrigger">
          <div class="avatar-circle">
            <span class="avatar-text">{{ getCurrentUserInitials() }}</span>
          </div>
        </div>

        <mat-menu #userMenu="matMenu">
          <div class="user-info-simple">
            <strong>{{ currentUser?.username }}</strong>
          </div>
          <mat-divider></mat-divider>
          <button mat-menu-item (click)="switchProfile()" aria-label="Switch to a different user profile">
            <mat-icon aria-hidden="true">swap_horiz</mat-icon>
            Changer de profil
          </button>
          <button mat-menu-item (click)="logout()" aria-label="Sign out of the application">
            <mat-icon aria-hidden="true">logout</mat-icon>
            DÃ©connexion
          </button>
        </mat-menu>
      </div>
    </div>
  </header>



  <!-- Main Content Area -->
  <main class="ultra-main-content" id="main-content" role="main">
    <router-outlet></router-outlet>
  </main>
</div> 